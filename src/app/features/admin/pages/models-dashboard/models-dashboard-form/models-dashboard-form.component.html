<h1 class="display-6 fw-bold mb-3">Model Form</h1>
<div class="card p-2 rounded-2 shadow-xl">
  <div class="card-body">
    <form *ngIf="modelForm" [formGroup]="modelForm">
      <div class="form-group mb-3">
        <label for="model-name-input" class="fw-bold mb-3">Name</label>
        <input
          type="text"
          id="model-name-input"
          formControlName="name"
          class="form-control"
          placeholder="Name"
        />
      </div>

      <div class="row">
        <div id="brand-input" class="col-md mb-3">
          <label for="brand-input" class="d-flex align-content-center">
            <span class="fw-bold d-flex align-items-center">Brand</span>
            <div class="form-floating ms-3">
              <input
                type="text"
                formControlName="brandFilterText"
                class="form-control border-0"
                id="search-brand-input"
                placeholder="Brand Name"
              />
              <label for="search-brand-input" class="text-muted"
                ><i class="pi pi-search"></i> Search</label
              >
            </div>
          </label>
          <select class="form-select" size="5" formControlName="brandId">
            <option
              *ngFor="let brand of brands | filterBrands: modelForm.value['brandFilterText']"
              value="{{ brand.id }}"
            >
              {{ brand.name }}
            </option>
          </select>
        </div>

        <div id="fuel-input" class="col-md mb-3">
          <label for="fuel-input" class="d-flex align-content-center">
            <span class="fw-bold d-flex align-items-center">Fuel</span>
            <div class="form-floating ms-3">
              <input
                type="text"
                formControlName="fuelFilterText"
                class="form-control border-0"
                id="search-fuel-input"
                placeholder="Fuel Name"
              />
              <label for="search-fuel-input" class="text-muted"
                ><i class="pi pi-search"></i> Search</label
              >
            </div>
          </label>
          <select id="fuel-input" formControlName="fuelId" class="form-select" size="5">
            <option
              *ngFor="let fuel of fuels | filterFuels: this.modelForm.value['fuelFilterText']"
              value="{{ fuel.id }}"
            >
              {{ fuel.name }}
            </option>
          </select>
        </div>

        <div id="transmission-input" class="col-md mb-3">
          <label for="transmission-input" class="d-flex align-content-center">
            <span class="fw-bold d-flex align-items-center">Transmission</span>
            <div class="form-floating ms-3">
              <input
                type="text"
                formControlName="transmissionFilterText"
                class="form-control border-0"
                id="search-transmission-input"
                placeholder="Transmission Name"
              />
              <label for="search-transmission-input" class="text-muted"
                ><i class="pi pi-search"></i> Search</label
              >
            </div>
          </label>
          <select
            id="transmission-input"
            formControlName="transmissionId"
            class="form-select"
            size="5"
          >
            <option
              *ngFor="
                let transmission of transmissions
                  | filterTransmissions: this.modelForm.value['transmissionFilterText']
              "
              value="{{ transmission.id }}"
            >
              {{ transmission.name }}
            </option>
          </select>
        </div>
      </div>

      <div class="form-group mb-3">
        <label for="daily-price-input" class="fw-bold mb-3">Daily Price</label>
        <input
          type="number"
          formControlName="dailyPrice"
          id="daily-price-input"
          class="form-control"
          placeholder="Daily Price"
        />
      </div>

      <div class="form-group mb-3">
        <label for="image-url-input" class="fw-bold mb-3">Image URL</label>
        <input
          id="image-url-input"
          type="text"
          formControlName="imageUrl"
          class="form-control"
          placeholder="Image URL"
        />
      </div>
    </form>
  </div>

  <div class="card-footer d-flex justify-content-between">
    <button
      *ngIf="!modelToEdit; else editFromButtons"
      (click)="add()"
      class="btn btn-primary btn-lg w-100 shadow-sm"
    >
      Add
    </button>
    <ng-template #editFromButtons>
      <button (click)="update()" class="btn btn-primary btn-lg shadow-sm w-50">Edit</button>
      <button (click)="delete()" class="btn btn-danger btn-lg shadow-sm w-25">Delete</button>
    </ng-template>
  </div>
</div>
